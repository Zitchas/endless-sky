# Copyright (c) 2019-2021 by Peter van der Meer
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.


formation "Atomic medium"
	flippable x
	rotatable 0
	# Section in front of the lead ship
	arc
		start -75 -129.9
		angle 60
		positions 2
		repeat
			start -75 -129.9
			positions 1
	# Side sections
	arc
		start 150 0
		angle 60
		positions 2
		repeat
			start 150 0
			positions 1
	arc
		start -150 0
		angle -60
		positions 2
		repeat
			start -150 0
			positions 1


formation "Diamond medium"
	flippable x y
	rotatable 90
	# Segment below, right of lead ship. Growing in down/right direction
	line
		start 100 100
		end 0 200
		positions 2
		repeat
			start 200 0
			end 0 200
			positions 2
	# Segment left, below, of lead ship. Growing in left/down direction
	line
		start -100 100
		end -200 0
		positions 2
		repeat
			start 0 200
			end -200 0
			positions 2
	# Segment above, left of lead ship. Growing in above/left direction
	line
		start -100 -100
		end 0 -200
		positions 2
		repeat
			start -200 0
			end 0 -200
			positions 2
	# Segment right, above of lead ship. Growing in right/above direction
	line
		start 100 -100
		end 200 0
		positions 2
		repeat
			start 0 -200
			end 200 0
			positions 2


# Triangle forming behind the formation leader.
formation "Delta (tailing) medium"
	flippable y
	line
		start -75 129.9
		end 75 129.9
		positions 2
		repeat
			start -75 129.9
			end 75 129.9
			positions 1


formation "Hegagon (wide) medium"
	flippable y
	rotatable 60
	#section lower-right
	line
		start 75 150
		end 75 150
		positions 1
		repeat
			start 150 0
			end 75 150
			positions 1
	#section lower-left
	line
		start -75 150
		end -75 150
		positions 1
		repeat
			start 75 150
			end -75 150
			positions 1
	#section left
	line
		start -150 0
		end -150 0
		positions 1
		repeat
			start -75 150
			end -150 0
			positions 1
	#section upper-left
	line
		start -75 -150
		end -75 -150
		positions 1
		repeat
			start -150 0
			end -75 -150
			positions 1
	#section upper-right
	line
		start 75 -150
		end 75 -150
		positions 1
		repeat
			start -75 -150
			end 75 -150
			positions 1
	#section right
	line
		start 150 0
		end 150 0
		positions 1
		repeat
			start 75 -150
			end 150 0
			positions 1


# Regular triangle with the formation leader in the center at the front and the point of the triangle facing backwards.
formation "Nabla (trailing) medium"
	flippable y
	line
		start -150 0
		end -75 129.9
		positions 2
		repeat
			start -150 0
			end 0 259.8
			positions 2
	line
		start 150 0
		end 0 259.8
		positions 3
		repeat
			start 150 0
			end 0 259.8
			positions 2


# A sphere around the flagship
# Built in six segment sections using the same layouting as the hexagon shape.
formation "Sphere medium"
	flippable x y
	rotatable 0
	arc
		start 200 0
		angle 360
		# start and end positions overlap, so need to specify 7 instead of 6 and use skip first or skip last.
		# no anchor point specified, since the flagship (position 0,0) is the anchor point (and that is the default)
		skip last
		positions 7
		repeat
			start 200 0
			positions 6


# Square with flagship in the center.
# Order of the segments is important; to make it grow nicely line by line without gaps.
# Direction of the lines (start and end) is also important to avoid gaps.
formation "Square medium"
	flippable x y
	rotatable 90
	# Segment ahead of the lead-ship, growing forward, a bit offset to right
	line
		start 0 -200
		end 200 -200
		positions 2
		repeat
			start -200 -200
			end 200 -200
			positions 2
	# Segment right of the lead-ship, growing right, a bit offset to the back
	line
		start 200 0
		end 200 200
		positions 2
		repeat
			start 200 -200
			end 200 200
			positions 2
	# Segment behind of the lead-ship, growing backward, a bit offset to left
	line
		start 0 200
		end -200 200
		positions 2
		repeat
			start 200 200
			end -200 200
			positions 2
	# Segment left of the lead-ship, growing left, a bit offset to the front
	line
		start -200 0
		end -200 -200
		positions 2
		repeat
			start -200 200
			end -200 -200
			positions 2
